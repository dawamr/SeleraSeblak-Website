import{c as p,j as e}from"./createLucideIcon.DXTdAQmi.js";import{r as n}from"./index.DhYZZe0J.js";import{m as E,t as N,s as v}from"./menu.BIgff9kc.js";import{F as w}from"./flame.CzleTYoO.js";import{X as D}from"./x.DW0alRlP.js";/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z=p("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=p("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=p("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=p("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);function U(){const[y,C]=n.useState("grid"),[m,q]=n.useState(""),[d,h]=n.useState("all"),[l,k]=n.useState(null),[M,u]=n.useState(!1),[i,g]=n.useState({selectedToppings:[],selectedSpicyLevel:"1",notes:""}),[r,x]=n.useState([]),[O,b]=n.useState(!1);n.useEffect(()=>{const s=localStorage.getItem("seleraSeblakCart");s&&x(JSON.parse(s))},[]),n.useEffect(()=>{localStorage.setItem("seleraSeblakCart",JSON.stringify(r))},[r]);const S=n.useMemo(()=>E.filter(s=>{const a=s.name.toLowerCase().includes(m.toLowerCase())||s.description.toLowerCase().includes(m.toLowerCase()),t=d==="all"||s.category===d;return a&&t}),[m,d]),j=(s,a)=>{if(!s)return 0;const t=a||i,o=t.selectedToppings.reduce((f,K)=>{const F=N.find(A=>A.id===K);return f+(F?.price||0)},0),J=v.find(f=>f.id===t.selectedSpicyLevel)?.price||0;return s.basePrice+o+J},c=s=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(s),P=()=>{if(!l)return;if(r.find(a=>a.menuItem.id===l.id&&JSON.stringify(a.orderDetails)===JSON.stringify(i))){const a=r.map(t=>t.menuItem.id===l.id&&JSON.stringify(t.orderDetails)===JSON.stringify(i)?{...t,quantity:t.quantity+1}:t);x(a)}else{const a={menuItem:l,orderDetails:i,quantity:1};x([...r,a])}u(!1),g({selectedToppings:[],selectedSpicyLevel:"1",notes:""})},L=(s,a)=>{const t=r.map(o=>o.menuItem.id===s?{...o,quantity:a>0?a:1}:o);x(t)},I=s=>{const a=r.filter(t=>t.menuItem.id!==s);x(a)},$=()=>{x([])},T=r.reduce((s,a)=>s+a.quantity,0);return e.jsxs("div",{className:"min-h-screen bg-gray-50 pt-20",children:[e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-8 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(B,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Cari menu...",className:"w-full pl-10 pr-4 py-2 rounded-lg border border-gray-300 focus:ring-2 focus:ring-red-500 focus:border-transparent",value:m,onChange:s=>q(s.target.value)})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>C("grid"),className:`p-2 rounded-lg ${y==="grid"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(z,{className:"w-5 h-5"})}),e.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded-lg ${y==="list"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:e.jsx(_,{className:"w-5 h-5"})}),e.jsxs("button",{onClick:()=>b(!0),className:"p-2 rounded-lg bg-white text-gray-600 hover:bg-red-600 hover:text-white transition-colors relative",children:[e.jsx(G,{className:"w-5 h-5"}),T>0&&e.jsx("span",{className:"absolute top-0 right-0 transform translate-x-1/2 -translate-y-1/2 bg-red-700 text-white text-xs px-2 py-0.5 rounded-full",children:T})]})]})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[e.jsx("button",{onClick:()=>h("all"),className:`px-4 py-2 rounded-full ${d==="all"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:"Semua"}),e.jsx("button",{onClick:()=>h("seblak"),className:`px-4 py-2 rounded-full ${d==="seblak"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:"Seblak"}),e.jsx("button",{onClick:()=>h("mie"),className:`px-4 py-2 rounded-full ${d==="mie"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:"Mie"}),e.jsx("button",{onClick:()=>h("burger"),className:`px-4 py-2 rounded-full ${d==="burger"?"bg-red-600 text-white":"bg-white text-gray-600"}`,children:"Burger"})]})]}),y==="grid"?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:S.map(s=>e.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg cursor-pointer transform hover:scale-105 transition-transform",onClick:()=>{k(s),u(!0)},children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-full h-48 object-cover"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-semibold mb-2",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-2",children:c(s.basePrice)}),e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:s.description}),e.jsx("div",{className:"flex",children:[...Array(s.spicyLevel)].map((a,t)=>e.jsx(w,{className:"w-4 h-4 text-red-600"},t))})]})]},s.id))}):e.jsx("div",{className:"space-y-4",children:S.map(s=>e.jsx("div",{className:"bg-white rounded-lg p-4 shadow-lg cursor-pointer hover:shadow-xl transition-shadow",onClick:()=>{k(s),u(!0)},children:e.jsxs("div",{className:"flex gap-4",children:[e.jsx("img",{src:s.image,alt:s.name,className:"w-24 h-24 object-cover rounded-lg"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"text-xl font-semibold mb-1",children:s.name}),e.jsx("p",{className:"text-gray-600 mb-1",children:c(s.basePrice)}),e.jsx("p",{className:"text-gray-500 text-sm",children:s.description}),e.jsx("div",{className:"flex mt-2",children:[...Array(s.spicyLevel)].map((a,t)=>e.jsx(w,{className:"w-4 h-4 text-red-600"},t))})]})]})},s.id))})]}),M&&l&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsxs("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:l.image,alt:l.name,className:"w-full h-64 object-cover rounded-t-lg"}),e.jsx("button",{onClick:()=>u(!1),className:"absolute top-4 right-4 bg-white rounded-full p-1",children:e.jsx(D,{className:"w-6 h-6"})})]}),e.jsxs("div",{className:"p-6",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:l.name}),e.jsx("p",{className:"text-xl text-red-600 mb-4",children:c(l.basePrice)}),e.jsx("div",{className:"flex mb-4",children:[...Array(l.spicyLevel)].map((s,a)=>e.jsx(w,{className:"w-4 h-4 text-red-600"},a))}),e.jsx("p",{className:"text-gray-600 mb-6",children:l.description}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Tambahan Topping"}),e.jsx("div",{className:"space-y-2",children:N.map(s=>e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:i.selectedToppings.includes(s.id),onChange:a=>{g(t=>({...t,selectedToppings:a.target.checked?[...t.selectedToppings,s.id]:t.selectedToppings.filter(o=>o!==s.id)}))},className:"rounded border-gray-300 text-red-600 focus:ring-red-500"}),e.jsx("span",{className:"ml-2",children:s.name}),e.jsx("span",{className:"ml-auto",children:c(s.price)})]},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Level Kepedasan"}),e.jsx("select",{value:i.selectedSpicyLevel,onChange:s=>g(a=>({...a,selectedSpicyLevel:s.target.value})),className:"w-full rounded-lg border-gray-300 focus:ring-red-500 focus:border-red-500",children:v.map(s=>e.jsxs("option",{value:s.id,children:[s.name," ",s.price>0?`(+${c(s.price)})`:""]},s.id))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"font-semibold mb-3",children:"Catatan Tambahan"}),e.jsx("textarea",{value:i.notes,onChange:s=>g(a=>({...a,notes:s.target.value})),placeholder:"Contoh: Tanpa sayur, dll",className:"w-full rounded-lg border-gray-300 focus:ring-red-500 focus:border-red-500",rows:3})]}),e.jsxs("div",{className:"text-xl font-bold mb-6",children:["Total: ",c(j(l,i))]}),e.jsx("button",{className:"w-full bg-red-600 text-white py-3 rounded-lg font-semibold hover:bg-red-700 transition-colors",onClick:P,children:"Tambah ke Keranjang"})]})]})}),O&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center",children:e.jsx("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6 relative",children:[e.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Keranjang Belanja"}),e.jsx("button",{onClick:()=>b(!1),className:"absolute top-4 right-4 bg-white rounded-full p-1",children:e.jsx(D,{className:"w-6 h-6"})}),r.length===0?e.jsx("p",{className:"text-gray-600",children:"Keranjang Anda kosong."}):e.jsxs("div",{className:"space-y-4",children:[r.map(s=>e.jsxs("div",{className:"flex items-start justify-between border-b pb-4",children:[e.jsxs("div",{className:"flex items-start",children:[e.jsx("img",{src:s.menuItem.image,alt:s.menuItem.name,className:"w-24 h-24 object-cover rounded-lg mr-4"}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s.menuItem.name}),s.orderDetails.selectedToppings.length>0&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Topping: ",s.orderDetails.selectedToppings.map(a=>N.find(t=>t.id===a)?.name).join(", ")]}),e.jsxs("p",{className:"text-gray-500 text-sm",children:["Level Pedas: ",v.find(a=>a.id===s.orderDetails.selectedSpicyLevel)?.name]}),s.orderDetails.notes&&e.jsxs("p",{className:"text-gray-500 text-sm",children:["Catatan: ",s.orderDetails.notes]}),e.jsxs("p",{className:"text-gray-600 text-sm",children:[c(j(s.menuItem,s.orderDetails))," x ",s.quantity]}),e.jsxs("div",{className:"flex items-center mt-2",children:[e.jsx("button",{onClick:()=>L(s.menuItem.id,s.quantity-1),className:"px-2 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"-"}),e.jsx("span",{className:"mx-2",children:s.quantity}),e.jsx("button",{onClick:()=>L(s.menuItem.id,s.quantity+1),className:"px-2 py-1 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors",children:"+"})]})]})]}),e.jsx("button",{onClick:()=>I(s.menuItem.id),className:"text-red-600 hover:text-red-700 transition-colors",children:"Hapus"})]},s.menuItem.id)),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"text-xl font-bold mb-2",children:["Total: ",c(r.reduce((s,a)=>s+j(a.menuItem,a.orderDetails)*a.quantity,0))]}),e.jsx("button",{onClick:$,className:"bg-gray-300 text-gray-700 py-2 px-4 rounded-lg hover:bg-gray-400 transition-colors mr-2",children:"Kosongkan Keranjang"}),e.jsx("button",{onClick:()=>{window.location.href="/checkout",b(!1)},className:"bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition-colors",children:"Checkout"})]})]})]})})})]})}export{U as default};
